# LinuxTips10--nmap常用命令

nmap是一个网络连接端扫描软件，用来扫描网上电脑开放的网络连接端。

+ 扫描主机端口，嗅探所提供的网络服务
+ 探测一组主机是否在线
+ 推断主机所用的操作系统，到达主机经过的路由，系统已经开放端口的软件版本

1. nmap端口状态解析

   + open：应用程序在该端口接收TCP连接或者UDP报文

   + closed：关 

   + 闭的端口对于 nmap也是可以访问的，它接收nmap探测报文并做出响应。但没有应用程序在其上监听

   + filtered：由于包过滤阻止探测报文到达端口，nmap无法确定该端口是否开放。

     过滤可能来自专业的防火墙设备，路由规则或者主机上的软件防火墙

   + unfiltered：未被过滤状态意味着端口可访问，但是nmap无法确定它是开放还是关闭。

     只有用于映射防火墙规则集的ACK扫描才会把端口分类到这个状态

   + open | filtered：无法确定端口是开放还是被过滤。

     开放的端口不响应就是一个例子

     没有响应也可能意味着报文过滤器丢弃了探测报文或者它引发的任何反应

     UDP,IP协议,FIN,Null等扫描会引起

   + closed | filtered：无法确定端口是关闭的还是被过滤的

2. 常用命令

   + nmap IP

   + 扫描连续的ip地址

     nmap 192.168.1.150-161

   + IP指定扫描的端口范围

     nmap -p(range) 

     例：nmap -p1-50 192.168.1.161      #扫描目标主机的1-50号端口

   + 扫描指定的端口

     nmap -p(port1,port2,...) IP

     例：nmap -p1,50,80 192.168.1.161      #扫描目标主机的1,50,80三个端口

   + ping扫描

     nmap -sP 192.168.1.161

   + 路由跟踪：路由器追踪可以查找从主机到目的IP之间所经过的网络节点和通过各个节点所花费的时间

     nmap --traceroute 8.8.8.8

   + 扫描一个网段下的IP

     nmap -sP Network-Address

     例：nmap -sP 192.168.1.0/24

   + 操作系统类型探测

     nmap -O 192.168.1.161

   + 万能开关：包含了1-10000端口ping扫描，操作系统扫描，脚本扫描，路由跟踪，服务探测

     nmap -A IP
   
   
   
   

