# Linux笔记29--软件包管理10-源码包管理2-源码包安装过程

1. 安装准备

   + 安装C语言编译器gcc

   + 下载源码包

     http://mirror.bit.edu.cn/apache/httpd/

   注：虽然已经装了RPMhttp包，但是不影响装源码http包，因为安装位置不同，不会冲突

   ​		但是若都装，会占用大量硬盘空间，实际装一个就可以

2. 注意事项

   + 源码包保存位置：/usr/local/src/

   + 软件安装位置：/usr/local/

   + 如何确定安装过程报错

     + 安装过程停止
     + ==并==出现error、warning或no的提示

     不过，源码包最大的问题就是，一旦报错很难解决

3. 源码包安装过程

   + 上传源码包

     rz命令

   + 解压缩下载的源码包

     tar -zxvf httpd-2.4.41.tar.gz

     du -sh 目录名    能够查看目录大小

   + 进入解压缩目录

     cd httpd-2.4.41

     目录下有两个文件

     + INSTALL     安装说明文件
     + README    使用说明文件

   + ./configure 软件配置与检查

     定义需要的功能选项

     检测系统环境是否符合安装要求

     把定义好的功能选项和检测系统环境的信息都写入Makefile文件，用于后续的编辑（make/make install）

     **./configure ==--prefix=======/usr/local/apache2                     #设置源码包的安装位置，路径填绝对路径**

     + 错误：若出现类似configure:error:APR not found.Please read the documentation错误，

       参考LinuxTips7--关于编译安装Apache时出现的缺失其他源码包的问题

   + make 编译   **#此时还没有生成/usr/local/apache2目录并写入任何数据**

     **若这里报错，只需要make install 清空编译产生的临时文件**

   + make install 编译安装

4. 测试

   /usr/local/apache2/bin/apachectl start

   **具体可执行文件在哪里是哪个从INSTALL安装说明文件中查看**

   **注：这里首先注意把apache服务关掉，否则会出现80端口被占用的情况**

   **rpm包Apache和源码包Apache虽然都能安装，但是只能启动一个**

   + systemctl stop httpd

   + /usr/local/apache2/bin/apachectl start

   + 打开浏览器输入虚拟机IP得到源码包Apache页面

     应该是有It works! 的页面

 5. 源码包的卸载

    不需要卸载命令，直接删除安装目录即可，不会遗留任何垃圾文件

