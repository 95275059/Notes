# Linux笔记39--Shell基础9-Bash变量2-环境变量

1. 环境变量
   
+ 用户自定义变量只在当前的Shell中生效，而环境变量会在当前Shell和这个Shell的所有子Shell中生效。如果把环境变量写入相应的配置文件，那么这个环境变量就会在所有的Shell中生效。环境变量和用户自定义变量的区别其实就是作用域的不同。
  
2. 设置环境变量

   + 申明变量

     export 变量名=变量值

     将已经定义的本地变量申明为环境变量：export 变量名

   + 查询变量

     env

   + 删除变量

     unset 变量名

   在父shell中生成子shell：bash

   查询确定shell：pstree    该命令能以树结构确定进程数       #安装方式：yum install -y psmisc

   ![笔记39-1](E:\notes\Linux\笔记39-1.PNG)

   两个sshd代表通过ssh远程连接。pstree在子bash下执行，上面还有一个父shell

   出现两条线的原因是开了两个远程连接。

3. 系统常见环境变量

   + PATH：系统查找系统命令的途径

     + echo $PATH

        /usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/root/bin

       系统命令在执行时之所以不需要写绝对路径或者相对路径，是因为系统会依次查找PATH中的路径，直到找到匹配的可执行文件，若没有找到则报错。

     + PATH变量叠加

       PATH="$PATH":/root/sh           (临时的，开机后叠加内容就没了，除非写到对应配置文件才永久生效)

   + PS1：定义系统提示符的变量

     + 用env查不到，用set能查到

     + | 提示符 | 含义                                                         |
       | ------ | ------------------------------------------------------------ |
       | \d     | 显示日期，格式为“星期 月 日”                                 |
       | \h     | 显示简写主机名。如默认主机名“localhost”                      |
       | \t     | 显示24小时制时间，格式为“HH:MM:SS”                           |
       | \T     | 显示12小时制时间，格式为“HH:MM:SS”                           |
       | \A     | 显示24小时制时间，格式为“HH:MM”                              |
       | \u     | 显示当前用户名                                               |
       | \w     | 显示当前所在目录的完整名称                                   |
       | \W     | 显示当前所在目录的最后一个目录                               |
       | \\#    | 执行的第几个命令                                             |
       | \\$    | 提示符。如果是root用户会显示提示符为“#”，如果是普通用户会显示提示符为“$” |
       | \@     | 显示12小时制时间，格式为“HH:MM 上午/下午”                    |

     + PS1=’[\u@\h \W]\\$ ‘        默认提示符格式：[root@localhost cxy]# 
     + PS1='[\u@\t \w]\\$'          提示符变为：[root@15:14:31 /home/cxy]# 
     + PS1='[\u@\t \\# \w]\\$'     提示符变为：[root@15:16:33 30 /home/cxy]# 





