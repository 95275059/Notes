# Linux笔记62--日志管理1-简介

1. 日志服务rsyslogd

   + 确定服务启动

     ps aux | grep rsyslogd

     systemctl list -unit-files | grep rsyslog           #查看服务是否自启动

2. 常见日志的作用

   | 日志文件          | 说明                                                         |
   | ----------------- | ------------------------------------------------------------ |
   | /var/log/cron     | 记录了系统定时任务相关的日志                                 |
   | /var/log/cups/    | 记录打印信息的日志                                           |
   | /var/log/dmesg    | 记录了系统在开机时内核自检的信息。也可以用dmesg命令直接查看内核自检信息 |
   | /var/log/btmp     | 记录错误登录的日志。==这个文件是二进制文件，不能直接vim查看，而要使用lastb命令== |
   | /var/log/lastlog  | 记录系统中所有用户最后一次的登录时间的日志。==这个文件也是二进制文件，使用lastlog命令== |
   | /var/log/maillog  | 记录邮件信息                                                 |
   | /var/log/messages | 记录系统重要信息的日志。这个日志文件中会记录Linux系统的绝大多数重要信息，如果系统出现问题时，首先要检查的就应该是这个日志文件 |
   | /var/log/secure   | 记录验证和授权方面的信息，只要涉及账户和密码的程序都会记录。比如系统的登录，ssh的登录，su切换用户，sudo授权，甚至添加用户和修改用户密码都会记录在这个日志文件中 |
   | /var/log/wtmp     | 永久记录所有用户的登录、注销信息，同时记录系统的启动、重启、关机事件。==这个文件是二进制文件，用last命令查看== |
   | /var/run/utmp     | 记录当前已经登录的用户的信息。这个文件会随着用户的登录和注销不断变化，只记录当前登录用户的信息。==这个文件是二进制文件，使用w,who,users等命令查询== |

   + 除了系统默认的日志外，采用RPM方式安装的系统服务也会默认把日志记录在/var/log目录中（源码包安装的 服务日志是在源码包指定目录中）。不过这些日志不是由rsyslogd服务来记录和管理的，而是各个服务使用自己的日志管理文档来记录自身日志

     | 日志文件        | 说明                                |
     | --------------- | ----------------------------------- |
     | /var/log/httpd/ | RPM包安装的Apache服务的默认日志目录 |
     | /var/log/mail/  | RPM包安装的邮件服务的额外日志目录   |
     | /var/log/samba/ | RPM包安装的samba服务的日志目录      |
     | /var/log/sssd/  | 守护进程安装服务目录                |

     